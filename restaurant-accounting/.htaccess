<IfModule mod_rewrite.c>
    RewriteEngine On

    # Force HTTPS (enable only after SSL is active)
    # RewriteCond %{HTTPS} off
    # RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

    # Redirect root domain to /public
    RewriteCond %{HTTP_HOST} ^cuisine\.endowcorporation\.com$ [NC]
    RewriteCond %{REQUEST_URI} !^/public/
    RewriteRule ^(.*)$ /public/$1 [L]
</IfModule>


# Security: Prevent access to sensitive files
<FilesMatch "^\.env">
    Order allow,deny
    Deny from all
</FilesMatch>

# Disable directory browsing
Options -Indexes

# Protect sensitive files
RedirectMatch 404 /\.git
RedirectMatch 404 /\.env
RedirectMatch 404 /composer\.json
RedirectMatch 404 /composer\.lock
RedirectMatch 404 /artisan
RedirectMatch 404 /phpunit\.xml
